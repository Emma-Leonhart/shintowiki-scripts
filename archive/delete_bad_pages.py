#!/usr/bin/env python3
"""
Delete pages from the provided list
"""

import mwclient
import sys
import time

if sys.platform == 'win32':
    import io
    sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')

WIKI_URL  = 'shinto.miraheze.org'
WIKI_PATH = '/w/'
USERNAME  = 'Immanuelle'
PASSWORD  = '[REDACTED_SECRET_2]'

site = mwclient.Site(WIKI_URL, path=WIKI_PATH)
site.login(USERNAME, PASSWORD)

print("Logged in. Starting deletion of bad pages...\n")

# List of pages to delete - extracted from the (edit | delete) list
pages_to_delete = [
    "Jalink:第91回全国高等学校野球選手権大会",
    "Jalink:2014 World Monuments Watch",
    "Jalink:平成から令和への皇位継承",
    "Jalink:令和5th year 版宗教年鑑",
    "Jalink:天村雲神社",
    "Jalink:天沼矛",
    "Jalink:天目一神社 (上板町)",
    "Jalink:青木神社 (板野町)",
    "Jalink:稟議書",
    "Jalink:阿波秘境七福神",
    "Jalink:竹細工",
    "Beppyo shrine",
    "Q930924",
    "Q11246676",
    "Q2302742",
    "伊勢国の式内社一覧",
    "宮中・京中の式内社一覧",
    "山城国の式内社一覧",
    "大和国の式内社一覧",
    "河内国の式内社一覧",
    "和泉国の式内社一覧",
    "摂津国の式内社一覧",
    "伊賀国の式内社一覧",
    "志摩国の式内社一覧",
    "尾張国の式内社一覧",
    "三河国の式内社一覧",
    "遠江国の式内社一覧",
    "駿河国の式内社一覧",
    "伊豆国の式内社一覧",
    "甲斐国の式内社一覧",
    "相模国の式内社一覧",
    "武蔵国の式内社一覧",
    "安房国の式内社一覧",
    "上総国の式内社一覧",
    "下総国の式内社一覧",
    "常陸国の式内社一覧",
    "近江国の式内社一覧",
    "美濃国の式内社一覧",
    "飛騨国の式内社一覧",
    "信濃国の式内社一覧",
    "上野国の式内社一覧",
    "下野国の式内社一覧",
    "陸奥国の式内社一覧",
    "出羽国の式内社一覧",
    "若狭国の式内社一覧",
    "越前国の式内社一覧",
    "加賀国の式内社一覧",
    "能登国の式内社一覧",
    "越中国の式内社一覧",
    "越後国の式内社一覧",
    "佐渡国の式内社一覧",
    "丹波国の式内社一覧",
    "丹後国の式内社一覧",
    "但馬国の式内社一覧",
    "因幡国の式内社一覧",
    "伯耆国の式内社一覧",
    "出雲国の式内社一覧",
    "石見国の式内社一覧",
    "隠岐国の式内社一覧",
    "播磨国の式内社一覧",
    "美作国の式内社一覧",
    "備前国の式内社一覧",
    "備中国の式内社一覧",
    "備後国の式内社一覧",
    "安芸国の式内社一覧",
    "周防国の式内社一覧",
    "長門国の式内社一覧",
    "紀伊国の式内社一覧",
    "淡路国の式内社一覧",
    "阿波国の式内社一覧",
    "讃岐国の式内社一覧",
    "伊予国の式内社一覧",
    "土佐国の式内社一覧",
    "筑前国の式内社一覧",
    "筑後国の式内社一覧",
    "豊前国の式内社一覧",
    "豊後国の式内社一覧",
    "肥前国の式内社一覧",
    "肥後国の式内社一覧",
    "日向国の式内社一覧",
    "大隅国の式内社一覧",
    "壱岐島の式内社一覧",
    "対馬島の式内社一覧",
    "縣神社",
    "古四王神社",
    "塩竈神社",
    "Doi (identifier)",
    "Jalink:Category:名数99",
    "Q57085",
    "Jalink:八幡神社 (徳島市渋野町)",
    "Jalink:八王子神社 (大阪市)",
    "Kankō Shrine",
    "Jalink:波爾移麻比禰神社",
    "Jalink:平松王子",
    "Jalink:鉾神社",
    "Jalink:市杵島姫神社 (鳴門市撫養町南浜)",
    "Jalink:市杵島姫神社 (鳴門市)",
    "Jalink:市野々王子",
    "Jalink:稲葉根王子",
    "Jalink:稲垣神社",
    "Jalink:稲垣神社 (吉野川市)",
    "Jalink:伊勢部柿本神社",
    "Jalink:石堂神社",
    "Jalink:磯部の御神田",
    "Jalink:出雲神社 (三好市)",
    "Jalink:春日神社 (徳島市下助任町)",
    "Jalink:気比神社 (板野町)",
    "Jalink:吉備津神社 (徳島市)",
    "Jalink:金刀比羅神社 (阿南市)",
    "Jalink:金刀比羅神社 (徳島市川内町)",
    "Jalink:事代主神社 (鳴門市)",
    "Jalink:黒岩神社",
    "Jalink:郡戸王子",
    "Miyazaki prefecture",
    "Kanpei-taisha",
    "Jalink:官幣中社",
    "Q17219569",
    "Jalink:紫野大将軍社",
    "Jalink:N",
    "Jalink:国立病院機構宮崎病院",
    "The National Hospital Organization Miyazaki Hospital",
    "Nara prefecture",
    "Jalink:九十九王子",
    "Jalink:S",
    "Jalink:佐渡島",
    "User:Immanuelle/Thousand-armed Kannon",
    "Jalink:坂口王子",
    "Jalink:Template:八卦",
    "Jalink:佐野王子 (新宮市)",
    "Jalink:説一切有部",
    "Scallop-shaped Kofun",
    "Jalink:Template:干支",
    "User:Immanuelle/Shikiyamanushi-no-Kami",
    "Shingon",
    "Jalink:篠田王子",
    "Jalink:四王子神社 (徳島市)",
    "Jalink:四所神社 (三好市山城町)",
    "Jalink:東方地霊殿 〜 Subterranean Animism.",
    "Jalink:宗道神社",
    "Jalink:宗道神社 (阿南市)",
    "Jalink:草創神社",
    "Jalink:草創神社 (小松島市)",
    "Jalink:草創神社 (徳島市)",
    "Jalink:多富気王子",
    "Jalink:高砂神社 (大阪市)",
    "Jalink:健稲背命",
    "Jalink:滝尻王子",
    "Jalink:建神社 (美馬市)",
    "Q135038808",
    "Jalink:天神社 (明石市)",
    "Jalink:天神社 (徳島市)",
    "Techi",
    "Jalink:継桜王子",
    "Jalink:津守王子",
    "Jalink:當所神社 (阿南市)",
    "Jalink:上野王子",
    "Jalink:薬王子神社",
    "Jalink:八坂神社 (大阪市平野区)",
    "Jalink:八坂神社 (徳島市)",
    "Jalink:大鳥居王子",
    "Talk:Kikuchi Shrine (Fukuoka)-ERROR",
    "Talk:Kikuchi Shrine (Fukuoka)-5",
    "Talk:Kikuchi Shrine (disambiguation)-ERROR",
    "Talk:Kurihara Shrine-ERROR",
    "User:Ichinomiya",
    "Template:EstablishmentsInCentury",
    "Template:DisestablishmentsInCentury",
    "Template:Mabs",
    "Template:Accuracy disputes progress",
    "Template:Admin topicon",
    "Template:Ayd",
    "Template:Alcoholic beverages",
    "Template:AmCyc Poster",
    "Template:Amulets and Talismans",
    "Template:Ann",
    "Template:La",
    "Template:Article",
    "Template:BUR",
    "Template:Birth-date",
    "Template:Bpmfsp",
    "Template:Bxtg",
    "Template:CHI",
    "Template:Category ambiguous",
    "Template:Lc",
    "Template:Lcs",
    "Template:Cat more if exists",
    "Template:Buddhism and China",
    "Template:Chinese Zodiac",
    "Template:Christ-stub",
    "Template:Chuo, Tokyo",
    "Template:Google maps",
    "Template:Cite instagram",
    "Template:Книга/doc",
    "Template:Internetquelle",
    "Template:Публикация",
    "Template:Clearleft",
    "Template:Daibutsu",
    "Template:Commons+cat",
    "Template:Ctrl",
    "Template:Country data Armenian SSR",
    "Template:Country data Syrian Kurdistan",
    "Template:Country data Azerbaijan SSR",
    "Template:Country data Estonian SSR",
    "Template:Country data Georgian SSR",
    "Template:Country data Kingdom of Hungary (1526–1867)",
    "Template:Country data Iraqi Republic (1958–68)",
    "Template:Country data Kingdom of Hungary (1920–46)",
    "Template:Country data Latvian SSR",
    "Template:Country data Lithuanian SSR",
    "Template:Country data Russian SFSR",
    "Template:Country data SR Bosnia and Herzegovina",
    "Template:Country data SR Croatia",
    "Template:Country data SR Montenegro",
    "Template:Country data Kingdom of Bulgaria",
    "Template:CountryPrefixThe",
    "Template:GER",
    "Template:DarkRed",
    "Template:TDMCA",
    "Template:D-A",
    "Template:D-I",
    "Template:D-N",
    "Template:D-Nv",
    "Template:D-O",
    "Template:D-Out",
    "Template:D-P",
    "Template:D-W",
    "Template:EstcatContinentDecade",
    "Template:Delay",
    "Template:Deletable image-caption",
    "Template:Deltext",
    "Template:DisestcatCountry",
    "Template:DisestcatCountryCentury",
    "Template:\"'",
    "Template:\" '",
    "Template:EarlyBuddhism",
    "Template:FPER",
    "Template:EditOnWikidata",
    "Template:Editrequest",
    "Template:Education-stub",
    "Template:Emu",
    "Template:EOL",
    "Template:Equestrian Sports",
    "Template:EstcatContinent",
    "Template:EstcatCountryDecade",
    "Template:Examine",
    "Template:Ffdc",
    "Template:Fh",
    "Template:FlagIOC2/doc",
    "Template:Country data",
    "Template:Further2",
    "Template:Graph, chart and plot templates",
    "Template:Hairspace",
    "Template:Hdl",
    "Template:Harvnb",
    "Template:Harvcol",
    "Template:Harvcolnb",
    "Template:Harvcoltxt",
    "Template:Harvp",
    "Template:Harvs",
    "Template:TOC tab",
    "Template:Heraldry by country",
    "Template:HinduMythology",
    "Template:Hindu Deities and Texts",
    "Template:Hindu scriptures",
    "Template:History-stub",
    "Template:HoursElapsed",
    "Template:In5",
    "Template:Third-party inline/doc",
    "Template:Infobox Cemetery",
    "Template:Infobox Waterfall",
    "Template:Jeju",
    "Template:LGBT",
    "Template:LGBT-stub",
    "Template:Intro",
    "Template:Lhr",
    "Template:Msg",
    "Template:Emperors of Japan",
    "Template:MonthCategoryNav/doc",
    "Template:Nan",
    "Template:Ln/doc",
    "Template:NYSE",
    "Template:Nom",
    "Template:Logo",
    "Template:NowCommons/doc",
    "Template:Ōita-geo-stub",
    "Template:OS coord",
    "Template:Oversighter topicon",
    "Template:Own",
    "Template:Parent stub category",
    "Template:Myprefs/doc",
    "Template:Myprefs/section/doc",
    "Template:PUA",
    "Template:Rint",
    "Template:Rangevandal",
    "Template:Rel",
    "Template:Rhr",
    "Template:Rh",
    "Template:Rh2",
    "Template:Coptic",
    "Template:See below/doc",
    "Template:'''",
    "Template:-\"",
    "Template:Snds",
    "Template:Start-date/doc",
    "Template:Tbullet",
    "Template:Tlcw",
    "Template:Tl-r",
    "Template:Ltsmeta",
    "Template:TYO2",
    "Template:Lus",
    "Template:US$",
    "Template:Update inline span",
    "Template:Userv",
    "Template:Usergc",
    "Template:Userspace Disclaimers",
    "Template:Varserif",
    "Template:Eastern name order",
    "Template:Wikinews-inline",
    "Template:Wiktionarycat",
    "Template:Yan",
    "Template:Death year category header",
    "Template:Birth year category header",
    "Template:DeathyrBC",
    "Template:BirthyrBC",
    "Template:半保護運用",
    "Q6677714",
    "Q6579829",
    "Q6582329",
    "Q6582964",
    "Q29001339",
    "Q6594881",
    "Q6301202",
    "Q8100789",
    "Q6599375",
    "Q8107259",
    "Q25219285",
    "Q100147987",
    "Q7018199",
    "Q25062711",
    "Q21856444",
    "Q8153828",
    "Q14768831",
    "Q9084226",
    "Q47462982",
    "Q8209924",
    "Q55588925",
    "Q8210771",
    "Q24654866",
    "Q86338769",
    "Q8211389",
    "Q6641409",
    "Q66172368",
    "Q6659586",
    "Q6578045",
    "Q8213654",
    "Q6578541",
    "Q7055484",
    "Q18728358",
    "Q69054286",
    "Q114042047",
    "Q8222030",
    "Q13243514",
    "Q8878200",
    "Q8878273",
    "Q8237486",
    "Q65646458",
    "Q8878367",
    "Q6469359",
    "Q10110547",
    "Q18729778",
    "Q9760478",
    "Q65647165",
    "Q18728424",
    "Q21057979",
    "Q27946780",
    "Q27900978",
    "Q28199327",
    "Q27900762",
    "Q9936061",
    "Q27900765",
    "Q47529494",
    "Q17162756",
    "Q9379533",
    "Q7131177",
    "Q7093510",
    "Q6344758",
    "Q8281176",
    "Q10138603",
    "Q50405029",
    "Q6210060",
    "Q62587707",
    "Q8893782",
    "Q6941055",
    "Q9994770",
    "Q32617025",
    "Q109650722",
    "Q59816379",
    "Q8302214",
    "Q20051194",
    "Q8318840",
    "Q28047089",
    "Q27674015",
    "Q21058033",
    "Q9632345",
    "Q27901014",
    "Q29900682",
    "Q27901022",
    "Q29900669",
    "Q18728169",
    "Q27673896",
    "Q28696505",
    "Q21059421",
    "Q27829767",
    "Q66371417",
    "Q27829711",
    "Q27900953",
    "Q27674021",
    "Q28091638",
    "Q27674043",
    "Q28091526",
    "Q27674038",
    "Q27900942",
    "Q27674106",
    "Q27829814",
    "Q27674043",
    "Q27900948",
    "Q28108791",
    "Q83454083",
    "Q33132374",
    "Q26965488",
    "Q21057932",
    "Q29900609",
    "Q29900697",
    "Q27673927",
    "Q18724007",
    "Q27673999",
    "Q27901010",
    "Q21057965",
    "Q27901011",
    "Q21057968",
    "Q8678160",
    "Q8356070",
    "Q124260323",
    "Q7097500",
    "Q28695107",
    "Q19841281",
    "Q8920749",
    "Q28697945",
    "Q28697914",
    "Q8393565",
    "Q55588823",
    "Q10094088",
    "Q24859513",
    "Q132168095",
    "Q30697384",
    "Q6272862",
    "Q18740047",
    "Q7185914",
    "Q18725199",
    "Q18726704",
    "Q8407627",
    "Q7402709",
    "Q86315532",
    "Q34533480",
    "Q9600227",
    "Q25075342",
    "Q136277236",
    "Q10221639",
    "Q8448334",
    "Q8459627",
    "Q65647841",
    "Q7303525",
    "Q18744021",
    "Q9626257",
    "Q9649012",
    "Q123739265",
    "Q8469123",
    "Q125087362",
    "Q10230525",
    "Q8482198",
    "Q8482688",
    "Q18727567",
    "Q18724246",
    "Q18727424",
    "Q125065545",
    "Q60975583",
    "Q25234796",
    "Q25233851",
    "Q8495295",
    "Q8495359",
    "Q10135571",
    "Q26259872",
    "Q8516922",
    "Q18742031",
    "Q18742058",
    "Q9542796",
    "Q18725969",
    "Q10240302",
    "Q18716412",
    "Q9632352",
    "Q10129860",
    "Q18738056",
    "Q18722654",
    "Q18738597",
    "Q10225836",
    "Q18722984",
    "Q24860706",
    "Q18728854",
    "Q18726867",
    "Q24857875",
    "Q135913871",
    "Q18728387",
    "Q18723791",
    "Q10210349",
    "Q18738009",
    "Q18727418",
    "Q8519727",
    "Q9667144",
    "Q13870522",
    "Q8529495",
    "Q64827155",
    "Q20637118",
    "Q20636886",
    "Q24863932",
    "Q20636843",
    "Q18513100",
    "Q20654873",
    "Q9629246",
    "Q8544769",
    "Q135994027",
    "Q17338076",
    "Q6274301",
    "Q8555130",
    "Q10052593",
    "Q86394100",
    "Q27900839",
    "Q9680004",
    "Q8562168",
    "Q8563033",
    "Q10166372",
    "Q7162803",
    "Q28694429",
    "Q9542945",
    "Q24861246",
    "Q17233254",
    "Q6807539",
    "Q10119452",
    "Q18741252",
    "Q9687306",
    "Q9630894",
    "Q17197896",
    "Q9685162",
    "Q6003426",
    "Q8600909",
    "Q9624048",
    "Q8807361",
    "Q8880992",
    "Q49783922",
    "Q9587321",
    "Q112153645",
    "Q9438688",
    "Q31998935",
    "Q18723504",
    "Q10194792",
    "Q24858960",
    "Q135914216",
    "Q18728425",
    "Q24869926",
    "Q9540244",
    "Q18728324",
    "Q24865057",
    "Q18723030",
    "Q18740449",
    "Q135914087",
    "Q18737354",
    "Q9623622",
    "Q24865555",
    "Q9603116",
    "Q24859871",
    "Q18723488",
    "Q18723618",
    "Q110096815",
    "Q110196432",
    "Q9615304",
    "Q8655770",
    "Q21655455",
    "Q15350438",
    "Q123201470",
    "Q126090011",
    "Q15125529",
    "Q21445415",
    "Q16746572",
    "Q15615302",
    "Category:Sangoku Sōden In'yō Kankatsu Hoki Naiden Kin'u Gyokuto Shū",
    "Q7837082",
]

deleted_count = 0
error_count = 0
not_found_count = 0

for i, page_name in enumerate(pages_to_delete, 1):
    try:
        page = site.pages[page_name]

        if not page.exists:
            print(f"{i:4d}. {page_name:60s} [NOT FOUND]")
            not_found_count += 1
            continue

        print(f"{i:4d}. {page_name:60s} [Deleting]", end="", flush=True)
        page.delete(reason="v25: Removing misconfigured pages")
        print(" ✓")
        deleted_count += 1
        time.sleep(0.5)

    except Exception as e:
        print(f"{i:4d}. {page_name:60s} [ERROR: {str(e)[:40]}]")
        error_count += 1

print(f"\n{'=' * 60}")
print(f"Summary:")
print(f"  Total pages to delete: {len(pages_to_delete)}")
print(f"  Deleted: {deleted_count}")
print(f"  Not found: {not_found_count}")
print(f"  Errors: {error_count}")
