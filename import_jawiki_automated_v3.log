================================================================================
AUTOMATED JAPANESE WIKIPEDIA IMPORT WITH FULL HISTORY
================================================================================

Test page: Ōarahiko Shrine

Connecting to shinto.miraheze.org...
Logged in successfully

Step 1: Checking if page already has {{translated page|...
  No {{translated page| found, proceeding...

Step 2: Getting Japanese Wikipedia article name...
  Found QID: Q11438675
  Found Japanese article: 大荒比古神社

Step 3: Fetching Japanese Wikipedia content...
  Fetched 1551 characters
  Current revision ID: 107289665

Step 4: Exporting Japanese Wikipedia history...
  Exported 6067 bytes

Step 5: Importing XML to create Japanese page...
  Importing XML via API...
  Response status: 200
  Response text: {"error":{"code":"nointerwikiprefix","info":"The \"interwikiprefix\" parameter must be set.","*":"See https://shinto.miraheze.org/w/api.php for API usage. Subscribe to the mediawiki-api-announce mailing list at &lt;https://lists.wikimedia.org/postorius/lists/mediawiki-api-announce.lists.wikimedia.org/&gt; for notice of API deprecations and breaking changes."},"servedby":"mw193"}
  Import result: {'error': {'code': 'nointerwikiprefix', 'info': 'The "interwikiprefix" parameter must be set.', '*': 'See https://shinto.miraheze.org/w/api.php for API usage. Subscribe to the mediawiki-api-announce mailing list at &lt;https://lists.wikimedia.org/postorius/lists/mediawiki-api-announce.lists.wikimedia.org/&gt; for notice of API deprecations and breaking changes.'}, 'servedby': 'mw193'}
  Import completed!

Step 6: Creating merged content...
  Created merged content (6758 characters)

Step 7: Deleting English page...
  ✓ Deleted [[Ōarahiko Shrine]]

Step 8: Moving Japanese page to English page name...
Error: ('missingtitle', "The page you specified doesn't exist.", 'See https://shinto.miraheze.org/w/api.php for API usage. Subscribe to the mediawiki-api-announce mailing list at &lt;https://lists.wikimedia.org/postorius/lists/mediawiki-api-announce.lists.wikimedia.org/&gt; for notice of API deprecations and breaking changes.')
Traceback (most recent call last):
  File "C:\Users\Immanuelle\Documents\Github\q\wikibot\import_jawiki_content_automated.py", line 228, in main
    ja_page.move(TEST_PAGE,
    ~~~~~~~~~~~~^^^^^^^^^^^
                reason="Merging Japanese Wikipedia import with English content",
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                no_redirect=True)
                ^^^^^^^^^^^^^^^^^
  File "C:\Users\ambie\AppData\Local\Programs\Python\Python313\Lib\site-packages\mwclient\page.py", line 309, in move
    result = self.site.post('move', ('from', self.name), to=new_title,
                            token=self.get_token('move'), reason=reason, **data)
  File "C:\Users\ambie\AppData\Local\Programs\Python\Python313\Lib\site-packages\mwclient\client.py", line 314, in post
    return self.api(action, 'POST', *args, **kwargs)
           ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ambie\AppData\Local\Programs\Python\Python313\Lib\site-packages\mwclient\client.py", line 361, in api
    if self.handle_api_result(info, sleeper=sleeper):
       ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ambie\AppData\Local\Programs\Python\Python313\Lib\site-packages\mwclient\client.py", line 418, in handle_api_result
    raise errors.APIError(info['error']['code'],
                          info['error']['info'], info['error']['*'])
mwclient.errors.APIError: ('missingtitle', "The page you specified doesn't exist.", 'See https://shinto.miraheze.org/w/api.php for API usage. Subscribe to the mediawiki-api-announce mailing list at &lt;https://lists.wikimedia.org/postorius/lists/mediawiki-api-announce.lists.wikimedia.org/&gt; for notice of API deprecations and breaking changes.')
